<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
<link rel="canonical" href="http://ddongeee.github.io/2019/04/08/shell-command-and-script/">
<meta name="naver-site-verification" content="92fcd64c1794d133f4339ce4c26faa8ba3eb36b9">

<meta name="generator" content="Hexo 4.2.1">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<title>Unix &amp; Linux command and shell script! - Crayon&#39;s Blog</title>


    <meta name="description" content="Concept12345671. 0(stdin), 1(stdout), 2(stderr)2. input redirection(0&lt; 생략), output redirection(1&gt; 생략)3. &gt; (replace), &gt;&gt; (없으면생성, 있으면 다음행에 append)4. &gt;&amp; (해당 기호 뒤에 fd 생략 불가능.. ex. &gt;&gt;&amp;1 , &gt;&amp;2 )5. 명령어의 실행결과">
<meta property="og:type" content="article">
<meta property="og:title" content="Unix &amp; Linux command and shell script!">
<meta property="og:url" content="http://ddongeee.github.io/2019/04/08/shell-command-and-script/index.html">
<meta property="og:site_name" content="Crayon&#39;s Blog">
<meta property="og:description" content="Concept12345671. 0(stdin), 1(stdout), 2(stderr)2. input redirection(0&lt; 생략), output redirection(1&gt; 생략)3. &gt; (replace), &gt;&gt; (없으면생성, 있으면 다음행에 append)4. &gt;&amp; (해당 기호 뒤에 fd 생략 불가능.. ex. &gt;&gt;&amp;1 , &gt;&amp;2 )5. 명령어의 실행결과">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://ddongeee.github.io/images/og_image.png">
<meta property="article:published_time" content="2019-04-07T17:00:00.000Z">
<meta property="article:modified_time" content="2020-06-06T08:36:33.193Z">
<meta property="article:author" content="Crayon">
<meta property="article:tag" content="bash">
<meta property="article:tag" content="shell">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://ddongeee.github.io/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-55065107-2"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-55065107-2');
</script>

    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    
    


<link rel="stylesheet" href="/css/style.css">
<link rel="alternate" href="/rss2.xml" title="Crayon's Blog" type="application/rss+xml">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="Unix &amp; Linux command and shell script!" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/">Home</a>
                
                <a class="navbar-item" href="/archives">Archives</a>
                
                <a class="navbar-item" href="/categories">Categories</a>
                
                <a class="navbar-item" href="/tags">Tags</a>
                
                <a class="navbar-item" href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus" rel="external nofollow noopener noreferrer">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <!--<div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-04-07T17:00:00.000Z">2019-04-08</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    18 minutes read (About 2737 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                Unix &amp; Linux command and shell script!
            
        </h1>
        <div class="content">
            <html><head></head><body><h2 id="Concept"><a href="#Concept" class="headerlink" title="Concept"></a>Concept</h2><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 0(stdin), 1(stdout), 2(stderr)</span><br><span class="line">2. input redirection(0< 생략), output redirection(1> 생략)</span><br><span class="line">3. > (replace), >> (없으면생성, 있으면 다음행에 append)</span><br><span class="line">4. >& (해당 기호 뒤에 fd 생략 불가능.. ex. >>&1 , >&2 )</span><br><span class="line">5. 명령어의 실행결과를 다음 명령어의 입력으로 연결하는, 즉 출입력을 연결하는 기호</span><br><span class="line">    1. ls -l /var/<span class="hljs-built_in">log</span> | sort -rk 9 (9번째 열의 데이터로 desc)</span><br><span class="line">6. SomeCommand > /dev/null 2>&1 하면 로그 버림</span><br></pre></td></tr></tbody></table></figure>



<h2 id="Commands"><a href="#Commands" class="headerlink" title="Commands"></a>Commands</h2><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># 사용가능한 모든 쉘</span></span><br><span class="line">$ cat /etc/shells</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 현재 사용중인 쉘</span></span><br><span class="line">$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$SHELL</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 쉘 바꾸기</span></span><br><span class="line">$ chsh</span><br><span class="line"></span><br><span class="line">$ date</span><br><span class="line"></span><br><span class="line">$ at (특정시간에 특정 잡을 실행)</span><br><span class="line"></span><br><span class="line">$ chmod (접근 권한 변경), ls -al 으로 확인(소유자,소유자그룹,모든사용자)</span><br><span class="line"><span class="hljs-comment"># chmod 755 file</span></span><br><span class="line"><span class="hljs-comment"># chmod u+x file</span></span><br><span class="line"></span><br><span class="line">$ chown (소유자, 소유자그룹변경. root 만 가능)</span><br><span class="line"></span><br><span class="line">$ cmp (파일을 비교하여 차이점을 알려주는 명령어)</span><br><span class="line"></span><br><span class="line">$ col (개행 혹은 공백 치환 역할을 하는 명령어)</span><br><span class="line"></span><br><span class="line">$ colctr (- 옵션과 같이 쓰면 <span class="hljs-string">'_'</span> 를 제거해 준다.)</span><br><span class="line"></span><br><span class="line">$ cp (복사)(-r 디렉터리의 하위 파일 및 디렉토리 모두 복사)</span><br><span class="line"></span><br><span class="line">$ cut (파이프 결과중에 지정된 부분만 표시.)</span><br><span class="line"><span class="hljs-comment"># (bcf 옵션에는 숫자범위 지정할수 있음. A, A-, A-B, -B)</span></span><br><span class="line"><span class="hljs-comment"># (-c 문자단위로분할)</span></span><br><span class="line"><span class="hljs-comment"># (-d 구분자이용)</span></span><br><span class="line"><span class="hljs-comment"># (-f 지정된 필드만 표시)</span></span><br><span class="line"><span class="hljs-comment"># (-s 구분자에 포함되지 않은 행은 표시하지 않음)</span></span><br><span class="line"><span class="hljs-comment"># cut -d ":" -f1,7 /etc/passwd 혹은 cut -d: -f1,2,3 /etc/passwd</span></span><br><span class="line"></span><br><span class="line">$ date (날짜 표시)</span><br><span class="line"><span class="hljs-comment"># date +%Y-%m-%d' '%k:%M:%S</span></span><br><span class="line"><span class="hljs-comment"># date +%Y%m%d%k%M%S</span></span><br><span class="line"></span><br><span class="line">$ df (파일 시스템의 디스크 용량 확인)</span><br><span class="line"><span class="hljs-comment"># df -aH</span></span><br><span class="line"></span><br><span class="line">$ diff (두 파일간의 비교)</span><br><span class="line"></span><br><span class="line">$ du (현재 디렉터리의 사용량을 표시)        </span><br><span class="line"><span class="hljs-comment"># du -sh</span></span><br><span class="line"></span><br><span class="line">$ <span class="hljs-built_in">echo</span> (문자열 출력, 환경변수 확인할수도 있음, 로그 용도로도 사용)</span><br><span class="line"></span><br><span class="line">$ find (파일을 찾을때 사용)</span><br><span class="line"></span><br><span class="line">$ free (메모리 사용량 체크 명령어)</span><br><span class="line"></span><br><span class="line">$ ifconfig (네트워크 인터페이스 설정 확인 및 변경)</span><br><span class="line"></span><br><span class="line">$ grep (대소문자 구별하여 검색) </span><br><span class="line"><span class="hljs-comment"># (-c 해당 패턴 포함된 행의 개수 출력)</span></span><br><span class="line"><span class="hljs-comment"># (-i 대소문자 구분없앰)</span></span><br><span class="line"><span class="hljs-comment"># (-n 행번호 출력)</span></span><br><span class="line"><span class="hljs-comment"># (-v 제외하고 출력)</span></span><br><span class="line"><span class="hljs-comment"># 정규 표현식 가능. </span></span><br><span class="line"><span class="hljs-comment"># cat somefile.txt | grep '[0-9]' // 숫자 포함 검색</span></span><br><span class="line"><span class="hljs-comment"># la -al | grep '^d' | grep -v '[.]' // 현재 디렉토리에 파일 검색</span></span><br><span class="line"><span class="hljs-comment"># ls -al | grep '\.log$' // 로그 파일 검색</span></span><br><span class="line"><span class="hljs-comment"># OR 조건 걸기. cat some.txt | grep 'A\|B\|C'</span></span><br><span class="line"></span><br><span class="line">$ lsof (list open files 명령어는 시스템에서 열린 파일 목록 확인 및 프로세스, 디바이스 정보 등을 표시)</span><br><span class="line"><span class="hljs-comment"># (-i 특정 포트를 사용하는 프로세스를 출력. lsof -i TCP:80, lsof -i :22-2202)</span></span><br><span class="line"><span class="hljs-comment"># (-c 특정 명령어가 사용하는 프로세스 출력. lsof -c httpd)</span></span><br><span class="line"><span class="hljs-comment"># (+D 특정 디렉터리 하위에 열려있는 프로세스 출력. lsof +D ~)</span></span><br><span class="line"><span class="hljs-comment"># lsof /var/log/messages 는 해당 파일을 사용하는 프로세스를 출력한다.</span></span><br><span class="line"></span><br><span class="line">$ netstat (현재 시스템에 연결되어 있는 네트워크 연결 상태 및 포트 정보 표시)</span><br><span class="line"><span class="hljs-comment"># netstat -nr IP주소와 커널의 라우팅 테이블 정보를 출력. route와 동일</span></span><br><span class="line"></span><br><span class="line">$ ps (현재시스템의 프로세스 상태 출력)</span><br><span class="line"><span class="hljs-comment"># ps -u crayon -ax</span></span><br><span class="line"></span><br><span class="line">$ script (터미널에서 수행하는 작업들을 텍스트 형식으로 저장한다.)</span><br><span class="line"></span><br><span class="line">$ sort (텍스트 파일을 행 단위로 정렬한다.)</span><br><span class="line"><span class="hljs-comment"># (-d 알파벳과 숫자를 사전순으로 정렬한다.)</span></span><br><span class="line"><span class="hljs-comment"># (-r desc 으로 정렬한다.)</span></span><br><span class="line"><span class="hljs-comment"># (-t 필드 구분자를 지정한다.)</span></span><br><span class="line"><span class="hljs-comment"># (-k 각 행의 지정된 필드를 기준으로 정렬한다.)</span></span><br><span class="line"><span class="hljs-comment"># ls -alh | sort -rk 5 // 디렉토리에서 5행(용량) 기준으로 desc 정렬한다.</span></span><br><span class="line"><span class="hljs-comment"># ls -alh | grep -v ^d | sort -rk 8</span></span><br><span class="line"></span><br><span class="line">$ tail (마지막 행의 내용부터 출력한다.)</span><br><span class="line"><span class="hljs-comment"># (-f 명령을 종료하지 않고 추가되는 내용을 실시간으로 출력한다.)</span></span><br><span class="line"><span class="hljs-comment"># (-n 마지막 행부터 n행까지의 내용을 출력한다. n 생략 가능.. tail -10 somefile)</span></span><br><span class="line"></span><br><span class="line">$ tar (여러개의 파일을 하나의 파일로 묶는다.)</span><br><span class="line"><span class="hljs-comment"># tar -cvf merged_file.tar /test/etc // /test/ectdml 파일 및 디렉터리를 묶는다.</span></span><br><span class="line"><span class="hljs-comment"># tar -xvf merged_file.tar // 묶은것을 해제한다.</span></span><br><span class="line"></span><br><span class="line">$ time (특정 프로세스나 명령어에 사용된 시스템 자원 정보를 출력한다.)</span><br><span class="line"><span class="hljs-comment"># time ls</span></span><br><span class="line"></span><br><span class="line">$ touch (0바이트의 빈 파일을 생성하거나, 파일 존재시 수정시간을 현재 시간으로 변경한다.)</span><br><span class="line"></span><br><span class="line">$ tr (특정 문자를 다른 문자로 변경할 때 사용. 대부분 재지정 시 활용)</span><br><span class="line"><span class="hljs-comment"># tr "a-z" "A-Z" < tr.test // 소문자를 대문자로 변경</span></span><br><span class="line"><span class="hljs-comment"># tr -d "_" < tr.test // 모든 '_' 제거</span></span><br><span class="line"></span><br><span class="line">$ traceroute (네트워크 경로를 확인하기 위해 패킷이 거쳐가는 경로 추적. 경로중에 부하높은곳을 찾을수 있다.)</span><br><span class="line"></span><br><span class="line">$. uptime (평균 시스템 부하 정보 출력)</span><br><span class="line"></span><br><span class="line">$. w (로그인한 사용자 출력)</span><br><span class="line"></span><br><span class="line">$. sed (스트림 편집기를 의미하며, 택스트 처리 혹은 치환 용도로 사용된다.)</span><br><span class="line"></span><br><span class="line">$. awk (텍스트 형태의 데이터를 행과 열로 구분하여 처리하고 결과를 출력한다. 조건문 사용가능 )</span><br><span class="line"><span class="hljs-comment"># awk '표현식 {액션}' 파일</span></span><br><span class="line"><span class="hljs-comment"># awk -f [awk 명령 스크립트 파일] 파일</span></span><br><span class="line"><span class="hljs-comment"># cat /etc/passwd | awk -F: '/^user/{print $1, $6}'</span></span><br><span class="line"><span class="hljs-comment"># df -k | grep -v Filesystem | sed -e s/%//g | awk '$5 > 70 {print $0}' // 디스크 사용량이 70% 이상인 파일시스템 확인</span></span><br><span class="line"><span class="hljs-comment"># grep '^Listen' /etc/httpd.conf | awk '{if($2 == 80) print "Http Service Port is 80"; else print Service Port is Not 80}'</span></span><br><span class="line"><span class="hljs-comment"># cat /etc/passwd| awk -F: 'BEGIN{print "User / Home Dir"};/^_k/{print $1,$6};END{print "- END -"}' // BEGIN, END 사용</span></span><br><span class="line"><span class="hljs-comment"># cat /etc/passwd | awk -F: '/[nologin]$/{print $1 | "sort"}'</span></span><br><span class="line"></span><br><span class="line">$ env, printenv (환경변수보기)    </span><br><span class="line"></span><br><span class="line">$ <span class="hljs-built_in">set</span> (현재 쉘에서만 사용할수 있는 지역변수 보기),</span><br><span class="line"></span><br><span class="line">$ rm (파일지우기)</span><br><span class="line"><span class="hljs-comment"># pipe로 지우는 방법.. ls -al | grep -v '^d' | awk '{print $9}' | xargs rm</span></span><br><span class="line"></span><br><span class="line">$ ps -ef</span><br><span class="line"><span class="hljs-comment"># You can add 'aux' option to show usages of CPU, MEM and process status</span></span><br><span class="line"></span><br><span class="line">$ file -I {{fileName}}</span><br><span class="line"><span class="hljs-comment"># file 인코딩 확인</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 머신, 하드웨어 타입 출력</span></span><br><span class="line">$ uname -m </span><br><span class="line"><span class="hljs-comment"># 운영체제 이름 출력</span></span><br><span class="line">$ uname -s</span><br><span class="line"><span class="hljs-comment"># 모든 정보 출력</span></span><br><span class="line">$ uname -a</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Client url로 서버와 통신할수 있는 command line tool</span></span><br><span class="line"><span class="hljs-comment"># proxy, cookie, header 설정 가능</span></span><br><span class="line"><span class="hljs-comment"># 다양한 프로토콜 지원</span></span><br><span class="line"><span class="hljs-comment"># -L 옵션의 경우, 서버에서 301,302으로 응답이 왔을경우, redirect url을 따라간다.</span></span><br><span class="line">$ curl -L www.naver.com </span><br><span class="line"><span class="hljs-comment"># -o 옵션의 경우, 출력 내용을 파일로 저장한다. (파일 다운로드시에 유용)</span></span><br><span class="line"><span class="hljs-comment"># -O 의 경우 remote file name 으로 저장한다. (파일 length 없으면 에러)</span></span><br><span class="line">$ curl -o ~/Development/<span class="hljs-built_in">test</span>/google www.google.com</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 파일이나 디렉토리의 접근 권한을 변경</span></span><br><span class="line"><span class="hljs-comment"># +x 옵션의 경우, </span></span><br><span class="line">$ chmod +x /usr/<span class="hljs-built_in">local</span>/bin/docker-compose</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 사용자 컴퓨터의 네트워크 환경을 알려줌 : 시스템 네트워크 연결목록</span></span><br><span class="line"><span class="hljs-comment"># 로컬과 리모트 서버 ip/호스트네임과 포트 표기</span></span><br><span class="line"><span class="hljs-comment"># LISTENING : 접속대기상태, ESTABLISHED : 접속된 상태, SYN_SENT : 접속하기위해 패킷보냄</span></span><br><span class="line">$ netstat </span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># list open files 로써, 열린파일목록 및 사용하는 프로세스, 디바이스정보 파일종류등을 알려줌</span></span><br><span class="line"><span class="hljs-comment"># VFS(virtual file system)을 사용하는 유닉스, 리눅스 파일 시스템에서 사용</span></span><br><span class="line"><span class="hljs-comment"># 다른 유사한 명령어가 linux,unix 계열 명령어가 있지만, 제각각 이라서, lsof 사용이 유리</span></span><br><span class="line"><span class="hljs-comment"># 열린파일정보</span></span><br><span class="line">$ lsof</span><br><span class="line"><span class="hljs-comment"># 특정 포트를 사용하는 프로세스 정보</span></span><br><span class="line">$ lsof -i TCP:22</span><br><span class="line">$ lsof -i :8080</span><br><span class="line">$ lsof -i :22-8080</span><br><span class="line"><span class="hljs-comment"># 특정 명령어가 사용하는 포트</span></span><br><span class="line"><span class="hljs-comment"># apache httpd 의 경우 fork 하여 여러개 프로세스 띄움</span></span><br><span class="line">$ lsof -c httpd</span><br><span class="line"><span class="hljs-comment"># 현재 열려있는 포트</span></span><br><span class="line"><span class="hljs-comment"># -n 옵션은, 네트워크 번호를 이름으로 변경하는것을 금지, lsof 더빨리 실행될수 있음</span></span><br><span class="line"><span class="hljs-comment"># -P 옵션은, 서비스 이름대신 포트로 표시</span></span><br><span class="line">$ lsof -i -nP | grep LISTEN | awk <span class="hljs-string">'{print $(NF-1)" "$1}'</span> | sort -u</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># $0 이라는 내부변수에 레코드(입력받은 각 라인)을 할당하고, 공백을 기준으로 $1 부터 데이터가 할당된다.</span></span><br><span class="line"><span class="hljs-comment"># NR : 레코드 넘버가 저장된다.</span></span><br><span class="line"><span class="hljs-comment"># NF : 레코드의 컬럼 사이즈, 컬럼의 개수</span></span><br><span class="line"><span class="hljs-comment"># awkfile 에서 'tomcat'이 포함된 라인에 1번째, 3번째 컬럼을 출력한다.</span></span><br><span class="line">$ awk <span class="hljs-string">'/tomcat/ {print $1, $3}'</span> awkfile</span><br><span class="line"><span class="hljs-comment"># Capacity 가 50% 이하인 filesystem 출력</span></span><br><span class="line">$ df -h | awk <span class="hljs-string">'$5 < 50'</span> </span><br><span class="line"><span class="hljs-comment"># printf 를 사용하면, 포멧팅된 출력 이용이 가능하다.</span></span><br><span class="line">$ awk <span class="hljs-string">'{printf "이름은 %-20s, 숫자는 %4d\n", $1" "$2, $3}'</span> awkfile</span><br><span class="line"><span class="hljs-comment"># -f 옵션을 사용하여, 액션과 명령어를 파일로부터 가져와 사용할수 있다.</span></span><br><span class="line">$ awk -f {{awkCommandFileName}} {{awkFile}}</span><br><span class="line"><span class="hljs-comment"># -F 으로 FS(구분자)를 변경한다.</span></span><br><span class="line"><span class="hljs-comment"># awk -F{{구분자}} '/tomcat/{print $1, $2}' awkfile</span></span><br><span class="line">$ awk -F: <span class="hljs-string">'/tomcat/{print $1, $2}'</span> awkfile</span><br><span class="line"><span class="hljs-comment"># https://zzsza.github.io/development/2017/12/20/linux-6/ 나머지 정리눈 여기</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 리눅스 디렉토리 용량 확인</span></span><br><span class="line"><span class="hljs-comment"># 확인전에 df로 먼저?</span></span><br><span class="line"><span class="hljs-comment"># df 명령은 현재 마운트 된 파일시스템의 상태를 기초로하여 사용률을 보여주는것이고,</span></span><br><span class="line"><span class="hljs-comment"># du 명령은 실제 디렉토리와 파일을 확인하고 그 크기를 보여준다.</span></span><br><span class="line"><span class="hljs-comment"># df의 경우 deleted 된 파일의 용량까지 포함해서 보여준다. 이는 lsof로 deleted상태의 프로세스를 종료혹은 리셋시킨다.</span></span><br><span class="line"><span class="hljs-comment"># folder 용량확인</span></span><br><span class="line">$ du -hs {{folder}}</span><br><span class="line"><span class="hljs-comment"># 현재 위치에 디렉토리들 용량확인</span></span><br><span class="line">$ du -hs *</span><br><span class="line"><span class="hljs-comment"># 현재 위치에 있는 폴더 및 파일중에서 용량 사이즈 큰것으로 정렬한것중 상위 10개만 보기</span></span><br><span class="line">$ du -hsx * | sort -rh | head -n 10</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 디스크</span></span><br><span class="line">$ df</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># ?? </span></span><br><span class="line">$ nslookup</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 재귀 삭제</span></span><br><span class="line">find . -<span class="hljs-built_in">type</span> f -name <span class="hljs-string">"build"</span> -<span class="hljs-built_in">exec</span> rm -rf {} \;</span><br><span class="line">find . -<span class="hljs-built_in">type</span> d -name <span class="hljs-string">"build"</span> -<span class="hljs-built_in">exec</span> rm -rf {} \;</span><br><span class="line">find . -<span class="hljs-built_in">type</span> d -name <span class="hljs-string">"out"</span> -<span class="hljs-built_in">exec</span> rm -rf {} \;</span><br></pre></td></tr></tbody></table></figure>



<h2 id="Vi-editor"><a href="#Vi-editor" class="headerlink" title="Vi editor"></a>Vi editor</h2><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 입력모드, 노멀모드, 명령모드, 비주얼모드(노멀 모드에서 v. 포인터부터 드래그 효과)</span><br><span class="line">2. 이동 ::: 0 (노멀모드에서 맨 앞으로 포인트 이동), $ (노멀모드에서 맨뒤로 포인터 이동), G (맨 마지막 행으로 이동)    </span><br><span class="line">3. 삭제 ::: u (명령취소), dd,[숫자]dd (숫자 수만큼 라인 삭제)</span><br><span class="line">4. 복사 ::: yy, [숫자]yy (커서위치한곳부터 숫자만큼 복사), p (복사한 내용을 아래쪽에 붙이기), P (복사한 내용을 위쪽에 붙이기)</span><br><span class="line">5. 환경설정 </span><br><span class="line">    1. <span class="hljs-built_in">set</span> nu (넘버링.. 반대는 <span class="hljs-built_in">set</span> nonu)</span><br><span class="line">    2. <span class="hljs-built_in">set</span> list (특수(개행) 문자 표시.. 반대는 <span class="hljs-built_in">set</span> nolist)</span><br></pre></td></tr></tbody></table></figure>


<h2 id="Shell-script-syntax"><a href="#Shell-script-syntax" class="headerlink" title="Shell script syntax"></a>Shell script syntax</h2><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. 변수와 할당되는 값사이에 빈공간 있으면 않됨! </span><br><span class="line">2. 명령결과 치환 : 변수=`명령어` 와 같이 하면, 변수에는 명령어 결과가 들어간다. 와우</span><br><span class="line">    1. TEST=`expr 1 + 1` 혹은 TEST6=`expr 205 + \( 3 \* 4 \)`</span><br></pre></td></tr></tbody></table></figure>
<p>Example)</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">echo</span> -n <span class="hljs-string">"숫자 A를 입력하세요:"</span></span><br><span class="line"><span class="hljs-built_in">read</span> VAR1</span><br><span class="line"><span class="hljs-built_in">echo</span> -n <span class="hljs-string">"숫자 B를 입력하세요:"</span></span><br><span class="line"><span class="hljs-built_in">read</span> VAR2</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">if</span>[ <span class="hljs-variable">$VAR1</span> -eq <span class="hljs-variable">$VAR2</span> ]</span><br><span class="line">    <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">" 숫자 A와 B는 같습니다."</span></span><br><span class="line">        <span class="hljs-keyword">elif</span> [ <span class="hljs-variable">$VAR1</span> -ge <span class="hljs-variable">$VAR2</span> ]</span><br><span class="line">            <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"숫자 A는 B보다 크거나 같습니다."</span></span><br></pre></td></tr></tbody></table></figure>



<h2 id="Useful-composed-commands"><a href="#Useful-composed-commands" class="headerlink" title="Useful composed commands"></a>Useful composed commands</h2><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># Kill process by PROCESS_NAME</span></span><br><span class="line"><span class="hljs-comment"># like $ sudo kill -9 `ps -ef | grep EppClient | grep -v 'grep' | awk '{print $2}'`</span></span><br><span class="line">$ <span class="hljs-built_in">kill</span> -9 `ps -ef | grep <span class="hljs-string">'PROCESS_NAME'</span> | awk {<span class="hljs-built_in">print</span> <span class="hljs-variable">$2</span>}` </span><br><span class="line"></span><br><span class="line">$ sudo ls -al /var/lib/docker/containers/ | grep `docker ps -a | grep <span class="hljs-string">'DOCKER_CONTAINER_NAME'</span> | awk <span class="hljs-string">'{print $1}'</span>` | awk <span class="hljs-string">'{print "/var/lib/docker/containers/"$9}'</span></span><br></pre></td></tr></tbody></table></figure>

<h1 id="VI-Tips"><a href="#VI-Tips" class="headerlink" title="VI Tips"></a>VI Tips</h1><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">## Replace all</span></span><br><span class="line"><span class="hljs-comment"># %s/before/after\r/g </span></span><br><span class="line"><span class="hljs-comment"># 위 명령어로 before 를 after(개행) 으로 처리하며 이를 /g 모두 반영한다.</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 공백 모두 제거</span></span><br><span class="line"><span class="hljs-comment"># %s/ \+$//</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># ^M 문자가 엄청 포함되어 있을때, 제거하기</span></span><br><span class="line"><span class="hljs-comment"># :e ++ff=dos</span></span><br><span class="line"><span class="hljs-comment"># :set ff=unix</span></span><br><span class="line"><span class="hljs-comment"># :wq</span></span><br></pre></td></tr></tbody></table></figure>



</body></html>
        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/bash/" rel="tag">bash</a>, <a class="has-link-grey -link" href="/tags/shell/" rel="tag">shell</a>
                </div>
            </div>
        </div>
        
        
        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2019/06/06/spring-design-pattern-first/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">Enhanced factory pattern with spring framework</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2018/11/12/about-redis/">
                <span class="level-item">About Redis</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">Comments</h3>
        
<script>
    var disqus_config = function () {
        this.page.url = 'http://ddongeee.github.io/2019/04/08/shell-command-and-script/';
        this.page.identifier = '2019/04/08/shell-command-and-script/';
    };
    (function() {
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'Crayon' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<div id="disqus_thread">
    
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
</div>
    </div>
</div>
</div>-->
                <div class="column is-8-tablet is-8-desktop is-8-widescreen has-order-2 column-main">
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-04-07T17:00:00.000Z">2019-04-08</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    18 minutes read (About 2737 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                Unix &amp; Linux command and shell script!
            
        </h1>
        <div class="content">
            <html><head></head><body><h2 id="Concept"><a href="#Concept" class="headerlink" title="Concept"></a>Concept</h2><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 0(stdin), 1(stdout), 2(stderr)</span><br><span class="line">2. input redirection(0< 생략), output redirection(1> 생략)</span><br><span class="line">3. > (replace), >> (없으면생성, 있으면 다음행에 append)</span><br><span class="line">4. >& (해당 기호 뒤에 fd 생략 불가능.. ex. >>&1 , >&2 )</span><br><span class="line">5. 명령어의 실행결과를 다음 명령어의 입력으로 연결하는, 즉 출입력을 연결하는 기호</span><br><span class="line">    1. ls -l /var/<span class="hljs-built_in">log</span> | sort -rk 9 (9번째 열의 데이터로 desc)</span><br><span class="line">6. SomeCommand > /dev/null 2>&1 하면 로그 버림</span><br></pre></td></tr></tbody></table></figure>



<h2 id="Commands"><a href="#Commands" class="headerlink" title="Commands"></a>Commands</h2><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># 사용가능한 모든 쉘</span></span><br><span class="line">$ cat /etc/shells</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 현재 사용중인 쉘</span></span><br><span class="line">$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$SHELL</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 쉘 바꾸기</span></span><br><span class="line">$ chsh</span><br><span class="line"></span><br><span class="line">$ date</span><br><span class="line"></span><br><span class="line">$ at (특정시간에 특정 잡을 실행)</span><br><span class="line"></span><br><span class="line">$ chmod (접근 권한 변경), ls -al 으로 확인(소유자,소유자그룹,모든사용자)</span><br><span class="line"><span class="hljs-comment"># chmod 755 file</span></span><br><span class="line"><span class="hljs-comment"># chmod u+x file</span></span><br><span class="line"></span><br><span class="line">$ chown (소유자, 소유자그룹변경. root 만 가능)</span><br><span class="line"></span><br><span class="line">$ cmp (파일을 비교하여 차이점을 알려주는 명령어)</span><br><span class="line"></span><br><span class="line">$ col (개행 혹은 공백 치환 역할을 하는 명령어)</span><br><span class="line"></span><br><span class="line">$ colctr (- 옵션과 같이 쓰면 <span class="hljs-string">'_'</span> 를 제거해 준다.)</span><br><span class="line"></span><br><span class="line">$ cp (복사)(-r 디렉터리의 하위 파일 및 디렉토리 모두 복사)</span><br><span class="line"></span><br><span class="line">$ cut (파이프 결과중에 지정된 부분만 표시.)</span><br><span class="line"><span class="hljs-comment"># (bcf 옵션에는 숫자범위 지정할수 있음. A, A-, A-B, -B)</span></span><br><span class="line"><span class="hljs-comment"># (-c 문자단위로분할)</span></span><br><span class="line"><span class="hljs-comment"># (-d 구분자이용)</span></span><br><span class="line"><span class="hljs-comment"># (-f 지정된 필드만 표시)</span></span><br><span class="line"><span class="hljs-comment"># (-s 구분자에 포함되지 않은 행은 표시하지 않음)</span></span><br><span class="line"><span class="hljs-comment"># cut -d ":" -f1,7 /etc/passwd 혹은 cut -d: -f1,2,3 /etc/passwd</span></span><br><span class="line"></span><br><span class="line">$ date (날짜 표시)</span><br><span class="line"><span class="hljs-comment"># date +%Y-%m-%d' '%k:%M:%S</span></span><br><span class="line"><span class="hljs-comment"># date +%Y%m%d%k%M%S</span></span><br><span class="line"></span><br><span class="line">$ df (파일 시스템의 디스크 용량 확인)</span><br><span class="line"><span class="hljs-comment"># df -aH</span></span><br><span class="line"></span><br><span class="line">$ diff (두 파일간의 비교)</span><br><span class="line"></span><br><span class="line">$ du (현재 디렉터리의 사용량을 표시)        </span><br><span class="line"><span class="hljs-comment"># du -sh</span></span><br><span class="line"></span><br><span class="line">$ <span class="hljs-built_in">echo</span> (문자열 출력, 환경변수 확인할수도 있음, 로그 용도로도 사용)</span><br><span class="line"></span><br><span class="line">$ find (파일을 찾을때 사용)</span><br><span class="line"></span><br><span class="line">$ free (메모리 사용량 체크 명령어)</span><br><span class="line"></span><br><span class="line">$ ifconfig (네트워크 인터페이스 설정 확인 및 변경)</span><br><span class="line"></span><br><span class="line">$ grep (대소문자 구별하여 검색) </span><br><span class="line"><span class="hljs-comment"># (-c 해당 패턴 포함된 행의 개수 출력)</span></span><br><span class="line"><span class="hljs-comment"># (-i 대소문자 구분없앰)</span></span><br><span class="line"><span class="hljs-comment"># (-n 행번호 출력)</span></span><br><span class="line"><span class="hljs-comment"># (-v 제외하고 출력)</span></span><br><span class="line"><span class="hljs-comment"># 정규 표현식 가능. </span></span><br><span class="line"><span class="hljs-comment"># cat somefile.txt | grep '[0-9]' // 숫자 포함 검색</span></span><br><span class="line"><span class="hljs-comment"># la -al | grep '^d' | grep -v '[.]' // 현재 디렉토리에 파일 검색</span></span><br><span class="line"><span class="hljs-comment"># ls -al | grep '\.log$' // 로그 파일 검색</span></span><br><span class="line"><span class="hljs-comment"># OR 조건 걸기. cat some.txt | grep 'A\|B\|C'</span></span><br><span class="line"></span><br><span class="line">$ lsof (list open files 명령어는 시스템에서 열린 파일 목록 확인 및 프로세스, 디바이스 정보 등을 표시)</span><br><span class="line"><span class="hljs-comment"># (-i 특정 포트를 사용하는 프로세스를 출력. lsof -i TCP:80, lsof -i :22-2202)</span></span><br><span class="line"><span class="hljs-comment"># (-c 특정 명령어가 사용하는 프로세스 출력. lsof -c httpd)</span></span><br><span class="line"><span class="hljs-comment"># (+D 특정 디렉터리 하위에 열려있는 프로세스 출력. lsof +D ~)</span></span><br><span class="line"><span class="hljs-comment"># lsof /var/log/messages 는 해당 파일을 사용하는 프로세스를 출력한다.</span></span><br><span class="line"></span><br><span class="line">$ netstat (현재 시스템에 연결되어 있는 네트워크 연결 상태 및 포트 정보 표시)</span><br><span class="line"><span class="hljs-comment"># netstat -nr IP주소와 커널의 라우팅 테이블 정보를 출력. route와 동일</span></span><br><span class="line"></span><br><span class="line">$ ps (현재시스템의 프로세스 상태 출력)</span><br><span class="line"><span class="hljs-comment"># ps -u crayon -ax</span></span><br><span class="line"></span><br><span class="line">$ script (터미널에서 수행하는 작업들을 텍스트 형식으로 저장한다.)</span><br><span class="line"></span><br><span class="line">$ sort (텍스트 파일을 행 단위로 정렬한다.)</span><br><span class="line"><span class="hljs-comment"># (-d 알파벳과 숫자를 사전순으로 정렬한다.)</span></span><br><span class="line"><span class="hljs-comment"># (-r desc 으로 정렬한다.)</span></span><br><span class="line"><span class="hljs-comment"># (-t 필드 구분자를 지정한다.)</span></span><br><span class="line"><span class="hljs-comment"># (-k 각 행의 지정된 필드를 기준으로 정렬한다.)</span></span><br><span class="line"><span class="hljs-comment"># ls -alh | sort -rk 5 // 디렉토리에서 5행(용량) 기준으로 desc 정렬한다.</span></span><br><span class="line"><span class="hljs-comment"># ls -alh | grep -v ^d | sort -rk 8</span></span><br><span class="line"></span><br><span class="line">$ tail (마지막 행의 내용부터 출력한다.)</span><br><span class="line"><span class="hljs-comment"># (-f 명령을 종료하지 않고 추가되는 내용을 실시간으로 출력한다.)</span></span><br><span class="line"><span class="hljs-comment"># (-n 마지막 행부터 n행까지의 내용을 출력한다. n 생략 가능.. tail -10 somefile)</span></span><br><span class="line"></span><br><span class="line">$ tar (여러개의 파일을 하나의 파일로 묶는다.)</span><br><span class="line"><span class="hljs-comment"># tar -cvf merged_file.tar /test/etc // /test/ectdml 파일 및 디렉터리를 묶는다.</span></span><br><span class="line"><span class="hljs-comment"># tar -xvf merged_file.tar // 묶은것을 해제한다.</span></span><br><span class="line"></span><br><span class="line">$ time (특정 프로세스나 명령어에 사용된 시스템 자원 정보를 출력한다.)</span><br><span class="line"><span class="hljs-comment"># time ls</span></span><br><span class="line"></span><br><span class="line">$ touch (0바이트의 빈 파일을 생성하거나, 파일 존재시 수정시간을 현재 시간으로 변경한다.)</span><br><span class="line"></span><br><span class="line">$ tr (특정 문자를 다른 문자로 변경할 때 사용. 대부분 재지정 시 활용)</span><br><span class="line"><span class="hljs-comment"># tr "a-z" "A-Z" < tr.test // 소문자를 대문자로 변경</span></span><br><span class="line"><span class="hljs-comment"># tr -d "_" < tr.test // 모든 '_' 제거</span></span><br><span class="line"></span><br><span class="line">$ traceroute (네트워크 경로를 확인하기 위해 패킷이 거쳐가는 경로 추적. 경로중에 부하높은곳을 찾을수 있다.)</span><br><span class="line"></span><br><span class="line">$. uptime (평균 시스템 부하 정보 출력)</span><br><span class="line"></span><br><span class="line">$. w (로그인한 사용자 출력)</span><br><span class="line"></span><br><span class="line">$. sed (스트림 편집기를 의미하며, 택스트 처리 혹은 치환 용도로 사용된다.)</span><br><span class="line"></span><br><span class="line">$. awk (텍스트 형태의 데이터를 행과 열로 구분하여 처리하고 결과를 출력한다. 조건문 사용가능 )</span><br><span class="line"><span class="hljs-comment"># awk '표현식 {액션}' 파일</span></span><br><span class="line"><span class="hljs-comment"># awk -f [awk 명령 스크립트 파일] 파일</span></span><br><span class="line"><span class="hljs-comment"># cat /etc/passwd | awk -F: '/^user/{print $1, $6}'</span></span><br><span class="line"><span class="hljs-comment"># df -k | grep -v Filesystem | sed -e s/%//g | awk '$5 > 70 {print $0}' // 디스크 사용량이 70% 이상인 파일시스템 확인</span></span><br><span class="line"><span class="hljs-comment"># grep '^Listen' /etc/httpd.conf | awk '{if($2 == 80) print "Http Service Port is 80"; else print Service Port is Not 80}'</span></span><br><span class="line"><span class="hljs-comment"># cat /etc/passwd| awk -F: 'BEGIN{print "User / Home Dir"};/^_k/{print $1,$6};END{print "- END -"}' // BEGIN, END 사용</span></span><br><span class="line"><span class="hljs-comment"># cat /etc/passwd | awk -F: '/[nologin]$/{print $1 | "sort"}'</span></span><br><span class="line"></span><br><span class="line">$ env, printenv (환경변수보기)    </span><br><span class="line"></span><br><span class="line">$ <span class="hljs-built_in">set</span> (현재 쉘에서만 사용할수 있는 지역변수 보기),</span><br><span class="line"></span><br><span class="line">$ rm (파일지우기)</span><br><span class="line"><span class="hljs-comment"># pipe로 지우는 방법.. ls -al | grep -v '^d' | awk '{print $9}' | xargs rm</span></span><br><span class="line"></span><br><span class="line">$ ps -ef</span><br><span class="line"><span class="hljs-comment"># You can add 'aux' option to show usages of CPU, MEM and process status</span></span><br><span class="line"></span><br><span class="line">$ file -I {{fileName}}</span><br><span class="line"><span class="hljs-comment"># file 인코딩 확인</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 머신, 하드웨어 타입 출력</span></span><br><span class="line">$ uname -m </span><br><span class="line"><span class="hljs-comment"># 운영체제 이름 출력</span></span><br><span class="line">$ uname -s</span><br><span class="line"><span class="hljs-comment"># 모든 정보 출력</span></span><br><span class="line">$ uname -a</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Client url로 서버와 통신할수 있는 command line tool</span></span><br><span class="line"><span class="hljs-comment"># proxy, cookie, header 설정 가능</span></span><br><span class="line"><span class="hljs-comment"># 다양한 프로토콜 지원</span></span><br><span class="line"><span class="hljs-comment"># -L 옵션의 경우, 서버에서 301,302으로 응답이 왔을경우, redirect url을 따라간다.</span></span><br><span class="line">$ curl -L www.naver.com </span><br><span class="line"><span class="hljs-comment"># -o 옵션의 경우, 출력 내용을 파일로 저장한다. (파일 다운로드시에 유용)</span></span><br><span class="line"><span class="hljs-comment"># -O 의 경우 remote file name 으로 저장한다. (파일 length 없으면 에러)</span></span><br><span class="line">$ curl -o ~/Development/<span class="hljs-built_in">test</span>/google www.google.com</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 파일이나 디렉토리의 접근 권한을 변경</span></span><br><span class="line"><span class="hljs-comment"># +x 옵션의 경우, </span></span><br><span class="line">$ chmod +x /usr/<span class="hljs-built_in">local</span>/bin/docker-compose</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 사용자 컴퓨터의 네트워크 환경을 알려줌 : 시스템 네트워크 연결목록</span></span><br><span class="line"><span class="hljs-comment"># 로컬과 리모트 서버 ip/호스트네임과 포트 표기</span></span><br><span class="line"><span class="hljs-comment"># LISTENING : 접속대기상태, ESTABLISHED : 접속된 상태, SYN_SENT : 접속하기위해 패킷보냄</span></span><br><span class="line">$ netstat </span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># list open files 로써, 열린파일목록 및 사용하는 프로세스, 디바이스정보 파일종류등을 알려줌</span></span><br><span class="line"><span class="hljs-comment"># VFS(virtual file system)을 사용하는 유닉스, 리눅스 파일 시스템에서 사용</span></span><br><span class="line"><span class="hljs-comment"># 다른 유사한 명령어가 linux,unix 계열 명령어가 있지만, 제각각 이라서, lsof 사용이 유리</span></span><br><span class="line"><span class="hljs-comment"># 열린파일정보</span></span><br><span class="line">$ lsof</span><br><span class="line"><span class="hljs-comment"># 특정 포트를 사용하는 프로세스 정보</span></span><br><span class="line">$ lsof -i TCP:22</span><br><span class="line">$ lsof -i :8080</span><br><span class="line">$ lsof -i :22-8080</span><br><span class="line"><span class="hljs-comment"># 특정 명령어가 사용하는 포트</span></span><br><span class="line"><span class="hljs-comment"># apache httpd 의 경우 fork 하여 여러개 프로세스 띄움</span></span><br><span class="line">$ lsof -c httpd</span><br><span class="line"><span class="hljs-comment"># 현재 열려있는 포트</span></span><br><span class="line"><span class="hljs-comment"># -n 옵션은, 네트워크 번호를 이름으로 변경하는것을 금지, lsof 더빨리 실행될수 있음</span></span><br><span class="line"><span class="hljs-comment"># -P 옵션은, 서비스 이름대신 포트로 표시</span></span><br><span class="line">$ lsof -i -nP | grep LISTEN | awk <span class="hljs-string">'{print $(NF-1)" "$1}'</span> | sort -u</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># $0 이라는 내부변수에 레코드(입력받은 각 라인)을 할당하고, 공백을 기준으로 $1 부터 데이터가 할당된다.</span></span><br><span class="line"><span class="hljs-comment"># NR : 레코드 넘버가 저장된다.</span></span><br><span class="line"><span class="hljs-comment"># NF : 레코드의 컬럼 사이즈, 컬럼의 개수</span></span><br><span class="line"><span class="hljs-comment"># awkfile 에서 'tomcat'이 포함된 라인에 1번째, 3번째 컬럼을 출력한다.</span></span><br><span class="line">$ awk <span class="hljs-string">'/tomcat/ {print $1, $3}'</span> awkfile</span><br><span class="line"><span class="hljs-comment"># Capacity 가 50% 이하인 filesystem 출력</span></span><br><span class="line">$ df -h | awk <span class="hljs-string">'$5 < 50'</span> </span><br><span class="line"><span class="hljs-comment"># printf 를 사용하면, 포멧팅된 출력 이용이 가능하다.</span></span><br><span class="line">$ awk <span class="hljs-string">'{printf "이름은 %-20s, 숫자는 %4d\n", $1" "$2, $3}'</span> awkfile</span><br><span class="line"><span class="hljs-comment"># -f 옵션을 사용하여, 액션과 명령어를 파일로부터 가져와 사용할수 있다.</span></span><br><span class="line">$ awk -f {{awkCommandFileName}} {{awkFile}}</span><br><span class="line"><span class="hljs-comment"># -F 으로 FS(구분자)를 변경한다.</span></span><br><span class="line"><span class="hljs-comment"># awk -F{{구분자}} '/tomcat/{print $1, $2}' awkfile</span></span><br><span class="line">$ awk -F: <span class="hljs-string">'/tomcat/{print $1, $2}'</span> awkfile</span><br><span class="line"><span class="hljs-comment"># https://zzsza.github.io/development/2017/12/20/linux-6/ 나머지 정리눈 여기</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 리눅스 디렉토리 용량 확인</span></span><br><span class="line"><span class="hljs-comment"># 확인전에 df로 먼저?</span></span><br><span class="line"><span class="hljs-comment"># df 명령은 현재 마운트 된 파일시스템의 상태를 기초로하여 사용률을 보여주는것이고,</span></span><br><span class="line"><span class="hljs-comment"># du 명령은 실제 디렉토리와 파일을 확인하고 그 크기를 보여준다.</span></span><br><span class="line"><span class="hljs-comment"># df의 경우 deleted 된 파일의 용량까지 포함해서 보여준다. 이는 lsof로 deleted상태의 프로세스를 종료혹은 리셋시킨다.</span></span><br><span class="line"><span class="hljs-comment"># folder 용량확인</span></span><br><span class="line">$ du -hs {{folder}}</span><br><span class="line"><span class="hljs-comment"># 현재 위치에 디렉토리들 용량확인</span></span><br><span class="line">$ du -hs *</span><br><span class="line"><span class="hljs-comment"># 현재 위치에 있는 폴더 및 파일중에서 용량 사이즈 큰것으로 정렬한것중 상위 10개만 보기</span></span><br><span class="line">$ du -hsx * | sort -rh | head -n 10</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 디스크</span></span><br><span class="line">$ df</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># ?? </span></span><br><span class="line">$ nslookup</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 재귀 삭제</span></span><br><span class="line">find . -<span class="hljs-built_in">type</span> f -name <span class="hljs-string">"build"</span> -<span class="hljs-built_in">exec</span> rm -rf {} \;</span><br><span class="line">find . -<span class="hljs-built_in">type</span> d -name <span class="hljs-string">"build"</span> -<span class="hljs-built_in">exec</span> rm -rf {} \;</span><br><span class="line">find . -<span class="hljs-built_in">type</span> d -name <span class="hljs-string">"out"</span> -<span class="hljs-built_in">exec</span> rm -rf {} \;</span><br></pre></td></tr></tbody></table></figure>



<h2 id="Vi-editor"><a href="#Vi-editor" class="headerlink" title="Vi editor"></a>Vi editor</h2><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 입력모드, 노멀모드, 명령모드, 비주얼모드(노멀 모드에서 v. 포인터부터 드래그 효과)</span><br><span class="line">2. 이동 ::: 0 (노멀모드에서 맨 앞으로 포인트 이동), $ (노멀모드에서 맨뒤로 포인터 이동), G (맨 마지막 행으로 이동)    </span><br><span class="line">3. 삭제 ::: u (명령취소), dd,[숫자]dd (숫자 수만큼 라인 삭제)</span><br><span class="line">4. 복사 ::: yy, [숫자]yy (커서위치한곳부터 숫자만큼 복사), p (복사한 내용을 아래쪽에 붙이기), P (복사한 내용을 위쪽에 붙이기)</span><br><span class="line">5. 환경설정 </span><br><span class="line">    1. <span class="hljs-built_in">set</span> nu (넘버링.. 반대는 <span class="hljs-built_in">set</span> nonu)</span><br><span class="line">    2. <span class="hljs-built_in">set</span> list (특수(개행) 문자 표시.. 반대는 <span class="hljs-built_in">set</span> nolist)</span><br></pre></td></tr></tbody></table></figure>


<h2 id="Shell-script-syntax"><a href="#Shell-script-syntax" class="headerlink" title="Shell script syntax"></a>Shell script syntax</h2><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. 변수와 할당되는 값사이에 빈공간 있으면 않됨! </span><br><span class="line">2. 명령결과 치환 : 변수=`명령어` 와 같이 하면, 변수에는 명령어 결과가 들어간다. 와우</span><br><span class="line">    1. TEST=`expr 1 + 1` 혹은 TEST6=`expr 205 + \( 3 \* 4 \)`</span><br></pre></td></tr></tbody></table></figure>
<p>Example)</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">echo</span> -n <span class="hljs-string">"숫자 A를 입력하세요:"</span></span><br><span class="line"><span class="hljs-built_in">read</span> VAR1</span><br><span class="line"><span class="hljs-built_in">echo</span> -n <span class="hljs-string">"숫자 B를 입력하세요:"</span></span><br><span class="line"><span class="hljs-built_in">read</span> VAR2</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">if</span>[ <span class="hljs-variable">$VAR1</span> -eq <span class="hljs-variable">$VAR2</span> ]</span><br><span class="line">    <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">" 숫자 A와 B는 같습니다."</span></span><br><span class="line">        <span class="hljs-keyword">elif</span> [ <span class="hljs-variable">$VAR1</span> -ge <span class="hljs-variable">$VAR2</span> ]</span><br><span class="line">            <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"숫자 A는 B보다 크거나 같습니다."</span></span><br></pre></td></tr></tbody></table></figure>



<h2 id="Useful-composed-commands"><a href="#Useful-composed-commands" class="headerlink" title="Useful composed commands"></a>Useful composed commands</h2><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># Kill process by PROCESS_NAME</span></span><br><span class="line"><span class="hljs-comment"># like $ sudo kill -9 `ps -ef | grep EppClient | grep -v 'grep' | awk '{print $2}'`</span></span><br><span class="line">$ <span class="hljs-built_in">kill</span> -9 `ps -ef | grep <span class="hljs-string">'PROCESS_NAME'</span> | awk {<span class="hljs-built_in">print</span> <span class="hljs-variable">$2</span>}` </span><br><span class="line"></span><br><span class="line">$ sudo ls -al /var/lib/docker/containers/ | grep `docker ps -a | grep <span class="hljs-string">'DOCKER_CONTAINER_NAME'</span> | awk <span class="hljs-string">'{print $1}'</span>` | awk <span class="hljs-string">'{print "/var/lib/docker/containers/"$9}'</span></span><br></pre></td></tr></tbody></table></figure>

<h1 id="VI-Tips"><a href="#VI-Tips" class="headerlink" title="VI Tips"></a>VI Tips</h1><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">## Replace all</span></span><br><span class="line"><span class="hljs-comment"># %s/before/after\r/g </span></span><br><span class="line"><span class="hljs-comment"># 위 명령어로 before 를 after(개행) 으로 처리하며 이를 /g 모두 반영한다.</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 공백 모두 제거</span></span><br><span class="line"><span class="hljs-comment"># %s/ \+$//</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># ^M 문자가 엄청 포함되어 있을때, 제거하기</span></span><br><span class="line"><span class="hljs-comment"># :e ++ff=dos</span></span><br><span class="line"><span class="hljs-comment"># :set ff=unix</span></span><br><span class="line"><span class="hljs-comment"># :wq</span></span><br></pre></td></tr></tbody></table></figure>



</body></html>
        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/bash/" rel="tag">bash</a>, <a class="has-link-grey -link" href="/tags/shell/" rel="tag">shell</a>
                </div>
            </div>
        </div>
        
        
        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2019/06/06/spring-design-pattern-first/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">Enhanced factory pattern with spring framework</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2018/11/12/about-redis/">
                <span class="level-item">About Redis</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">Comments</h3>
        
<script>
    var disqus_config = function () {
        this.page.url = 'http://ddongeee.github.io/2019/04/08/shell-command-and-script/';
        this.page.identifier = '2019/04/08/shell-command-and-script/';
    };
    (function() {
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'Crayon' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<div id="disqus_thread">
    
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
</div>
    </div>
</div>
</div>
                






    



                






    
        <div class="column is-4-tablet is-4-desktop is-4-widescreen  has-order-3 column-right is-sticky">
            
                
                    

    <div class="card widget" id="toc">
        <div class="card-content">
            <div class="menu">
                <h3 class="menu-label">
                    Catalogue
                </h3>
                <ul class="menu-list"><ul class="menu-list"><li>
        <a class="is-flex" href="#Concept">
        <span class="has-mr-6">1.1</span>
        <span>Concept</span>
        </a></li><li>
        <a class="is-flex" href="#Commands">
        <span class="has-mr-6">1.2</span>
        <span>Commands</span>
        </a></li><li>
        <a class="is-flex" href="#Vi-editor">
        <span class="has-mr-6">1.3</span>
        <span>Vi editor</span>
        </a></li><li>
        <a class="is-flex" href="#Shell-script-syntax">
        <span class="has-mr-6">1.4</span>
        <span>Shell script syntax</span>
        </a></li><li>
        <a class="is-flex" href="#Useful-composed-commands">
        <span class="has-mr-6">1.5</span>
        <span>Useful composed commands</span>
        </a></li></ul><li>
        <a class="is-flex" href="#VI-Tips">
        <span class="has-mr-6">2</span>
        <span>VI Tips</span>
        </a></li></ul>
            </div>
        </div>
    </div>

                
            
        </div>
    



            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="Unix &amp; Linux command and shell script!" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 Crayon&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="external nofollow noopener noreferrer">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/" rel="external nofollow noopener noreferrer">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/" rel="external nofollow noopener noreferrer">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus" rel="external nofollow noopener noreferrer">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en");</script>

<script>
var IcarusThemeSettings = {
    article: {
        highlight: {
            clipboard: false,
            fold: ''
        }
    }
};
</script>




    
    
<script src="/js/animation.js"></script>

    
    
<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>

    
    
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/" target="_blank" rel="external nofollow noopener noreferrer">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>

    
    <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>
    
    
<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>

    
    
    
    
    
    
    
    
    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>